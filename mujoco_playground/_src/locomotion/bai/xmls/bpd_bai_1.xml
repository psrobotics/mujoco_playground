<mujoco model="bpd_bai_1">
  <compiler angle="radian"/>

  <asset>
    <!-- Visual meshes -->
    <mesh name="base_link" file="base_link.stl" scale="0.001 0.001 0.001"/>
    <mesh name="hip2hip_l" file="hip2hip_l.stl" scale="0.001 0.001 0.001"/>
    <mesh name="hip2hip_r" file="hip2hip_r.stl" scale="0.001 0.001 0.001"/>
    <mesh name="leg_u_l" file="leg_u_l.stl" scale="0.001 0.001 0.001"/>
    <mesh name="leg_u_r" file="leg_u_r.stl" scale="0.001 0.001 0.001"/>
    <mesh name="leg_l_l" file="leg_l_l.stl" scale="0.001 0.001 0.001"/>
    <mesh name="leg_l_r" file="leg_l_r.stl" scale="0.001 0.001 0.001"/>

    <!-- Collision meshes -->
    <mesh name="base_link_c" file="base_link_c.stl" scale="0.001 0.001 0.001"/>
    <mesh name="hip2hip_l_c" file="hip2hip_l_c.stl" scale="0.001 0.001 0.001"/>
    <mesh name="hip2hip_r_c" file="hip2hip_r_c.stl" scale="0.001 0.001 0.001"/>
    <mesh name="leg_u_l_c" file="leg_u_l_c.stl" scale="0.001 0.001 0.001"/>
    <mesh name="leg_u_r_c" file="leg_u_r_c.stl" scale="0.001 0.001 0.001"/>
    <mesh name="leg_l_l_c" file="leg_l_l_c.stl" scale="0.001 0.001 0.001"/>
    <mesh name="leg_l_r_c" file="leg_l_r_c.stl" scale="0.001 0.001 0.001"/>
  </asset>

  <worldbody>
    <!-- Define the floating base as a body with a free joint -->
    <body name="base_link" pos="0 0 0.32">
      <joint name="base_free" type="free"/>

      <!-- Base geoms -->
      <!-- Collision geom (no explicit pos/quat assumed, so default is used) -->
      <geom name="base_link_collision" type="mesh"
            mesh="base_link_c"
            rgba="0.196078 0.196078 0.196078 1"/>
      <!-- Visual geom for base (using same default pos/quat as collision) -->
      <geom name="base_link_visual" type="mesh"
            mesh="base_link"
            rgba="0.8 0.8 0.8 1"
            contype="0" conaffinity="0"/>
      
      <!-- Left side -->
      <body name="hip2hip_l" pos="-0.020002 0.0862958 -0.026364" quat="0.887011 0.461749 0 0">
        <inertial pos="-0.023544 2.21095e-09 -0.0163088"
                  quat="0.653205 0.270783 0.270783 0.653205"
                  mass="0.0239012"
                  diaginertia="1.0071e-05 9.5693e-06 3.69117e-06"/>
        <joint name="J_HIP_L" pos="0 0 0"
               axis="0 -3.32035e-07 1"
               range="-0.95 2"
               actuatorfrcrange="-10 10"/>
        <!-- Collision geom for hip2hip_l with pos/quat -->
        <geom name="hip2hip_l_collision" pos="-0.035 0.0135 -0.005"
              quat="0.5 0.5 0.5 -0.5"
              type="mesh"
              rgba="0.196078 0.196078 0.196078 1"
              mesh="hip2hip_l_c"/>
        <!-- Visual geom for hip2hip_l with same pos/quat -->
        <geom name="hip2hip_l_visual" pos="-0.035 0.0135 -0.005"
              quat="0.5 0.5 0.5 -0.5"
              type="mesh"
              mesh="hip2hip_l"
              rgba="0.8 0.8 0.8 1"
              contype="0" conaffinity="0"/>

        <!-- Left upper leg -->
        <body name="leg_u_l" pos="-0.03 9.98141e-10 -0.041" quat="0.953717 0.300706 0 0">
          <inertial pos="0.024319 -0.0646496 0.00684158"
                    quat="0.687869 0.616325 -0.2401 0.298884"
                    mass="0.115327"
                    diaginertia="0.00029232 0.000291179 3.79894e-05"/>
          <joint name="J_AB_L" pos="0 0 0" axis="-1 0 0"
                 range="-1.75 0.5"
                 actuatorfrcrange="-10 10"/>
          <!-- Collision geom for leg_u_l -->
          <geom name="leg_u_l_collision" pos="0.0255 3.77476e-10 -1.57538e-09"
                quat="0.0308436 0.706434 -0.0308436 -0.706434"
                type="mesh"
                rgba="0.196078 0.196078 0.196078 1"
                mesh="leg_u_l_c"/>
          <!-- Visual geom for leg_u_l with same pos/quat -->
          <geom name="leg_u_l_visual" pos="0.0255 3.77476e-10 -1.57538e-09"
                quat="0.0308436 0.706434 -0.0308436 -0.706434"
                type="mesh"
                mesh="leg_u_l"
                rgba="0.8 0.8 0.8 1"
                contype="0" conaffinity="0"/>

          <!-- Left lower leg -->
          <body name="leg_l_l" pos="0.0255 -0.129549 0.0108322" quat="0.5 -0.5 -0.5 0.5">
            <inertial pos="-0.0765096 -0.0191126 -0.000454688"
                      quat="0.445202 0.547827 0.454391 0.543332"
                      mass="0.0520031"
                      diaginertia="0.000114788 0.000113123 9.32456e-06"/>
            <joint name="J_KNEE_L" pos="0 0 0"
                   axis="0.087156 -0.996195 0"
                   range="-2 0.9"
                   actuatorfrcrange="-10 10"/>
            <!-- Collision geom for leg_l_l -->
            <geom name="leg_l_l_collision" pos="-0.0870524 -0.0180516 -0.00136393"
                  quat="0 -0.0436194 0.999048 0"
                  type="mesh"
                  rgba="0.8 0 0 1"
                  mesh="leg_l_l_c"/>
            <!-- Visual geom for leg_l_l with same pos/quat -->
            <geom name="leg_l_l_visual" pos="-0.0870524 -0.0180516 -0.00136393"
                  quat="0 -0.0436194 0.999048 0"
                  type="mesh"
                  mesh="leg_l_l"
                  rgba="0.8 0.8 0.8 1"
                  contype="0" conaffinity="0"/>
          </body>
        </body>
      </body>

      <!-- Right side -->
      <body name="hip2hip_r" pos="-0.020002 0.0141153 -0.026364" quat="0.887011 -0.461749 0 0">
        <inertial pos="-0.023544 -2.21095e-09 -0.0163088"
                  quat="0.653205 0.270783 0.270783 0.653205"
                  mass="0.0239012"
                  diaginertia="1.0071e-05 9.5693e-06 3.69117e-06"/>
        <joint name="J_HIP_R" pos="0 0 0"
               axis="0 3.32035e-07 1"
               range="-2 0.95"
               actuatorfrcrange="-10 10"/>
        <!-- Collision geom for hip2hip_r -->
        <geom name="hip2hip_r_collision" pos="-0.035 0.0135 -0.005"
              quat="0.5 0.5 0.5 -0.5"
              type="mesh"
              rgba="0.196078 0.196078 0.196078 1"
              mesh="hip2hip_r_c"/>
        <!-- Visual geom for hip2hip_r with same pos/quat -->
        <geom name="hip2hip_r_visual" pos="-0.035 0.0135 -0.005"
              quat="0.5 0.5 0.5 -0.5"
              type="mesh"
              mesh="hip2hip_r"
              rgba="0.8 0.8 0.8 1"
              contype="0" conaffinity="0"/>

        <!-- Right upper leg -->
        <body name="leg_u_r" pos="-0.03 -9.98141e-10 -0.041" quat="0.300706 0.953717 0 0">
          <inertial pos="0.024341 -0.0646517 -0.00681979"
                    quat="0.239917 0.299031 -0.687933 0.616253"
                    mass="0.115326"
                    diaginertia="0.000292419 0.000291104 3.79869e-05"/>
          <joint name="J_AB_R" pos="0 0 0" axis="-1 0 0"
                 range="-0.5 1.75"
                 actuatorfrcrange="-10 10"/>
          <!-- Collision geom for leg_u_r -->
          <geom name="leg_u_r_collision" pos="0.0255 3.77477e-10 1.57538e-09"
                quat="0.0308436 -0.706434 0.0308436 -0.706434"
                type="mesh"
                rgba="0.196078 0.196078 0.196078 1"
                mesh="leg_u_r_c"/>
          <!-- Visual geom for leg_u_r with same pos/quat -->
          <geom name="leg_u_r_visual" pos="0.0255 3.77477e-10 1.57538e-09"
                quat="0.0308436 -0.706434 0.0308436 -0.706434"
                type="mesh"
                mesh="leg_u_r"
                rgba="0.8 0.8 0.8 1"
                contype="0" conaffinity="0"/>

          <!-- Right lower leg -->
          <body name="leg_l_r" pos="0.0255 -0.129549 -0.0108322" quat="0.5 -0.5 -0.5 0.5">
            <inertial pos="-0.0765097 0.0191126 -0.000454697"
                      quat="0.543331 0.454392 0.547826 0.445203"
                      mass="0.0520031"
                      diaginertia="0.000114788 0.000113123 9.32456e-06"/>
            <joint name="J_KNEE_R" pos="0 0 0"
                   axis="0.087156 0.996195 0"
                   range="-0.9 2"
                   actuatorfrcrange="-10 10"/>
            <!-- Collision geom for leg_l_r -->
            <geom name="leg_l_r_collision" pos="-0.0675048 0.0210103 -0.00136393"
                  quat="0.0436194 0 0 0.999048"
                  type="mesh"
                  rgba="0.196078 0.196078 0.196078 1"
                  mesh="leg_l_r_c"/>
            <!-- Visual geom for leg_l_r with same pos/quat -->
            <geom name="leg_l_r_visual" pos="-0.0675048 0.0210103 -0.00136393"
                  quat="0.0436194 0 0 0.999048"
                  type="mesh"
                  mesh="leg_l_r"
                  rgba="0.8 0.8 0.8 1"
                  contype="0" conaffinity="0"/>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <sensor>
    <framepos name="torso_position" objtype="xbody" objname="base_link"/>
    <subtreelinvel name="torso_subtreelinvel" body="base_link"/>
    <framezaxis name="torso_zaxis" objtype="xbody" objname="base_link"/>
  </sensor>

  <actuator>
    <motor name="J_HIP_L" joint="J_HIP_L" gear="1"/>
    <motor name="J_HIP_R" joint="J_HIP_R" gear="1"/>
    <motor name="J_AB_L" joint="J_AB_L" gear="1"/>
    <motor name="J_AB_R" joint="J_AB_R" gear="1"/>
    <motor name="J_KNEE_L" joint="J_KNEE_L" gear="1"/>
    <motor name="J_KNEE_R" joint="J_KNEE_R" gear="1"/>
  </actuator>
</mujoco>
